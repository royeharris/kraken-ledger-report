# Kraken Ledger Report — Project Context (v4.000)

## Current Release
- **App Version**: v4.000 (Stable / Final)
- **Status**: Production

## Purpose
- Generate a "Bank-Style" Statement for Kraken Crypto activity, specifically tailored for UK Accounting (GBP Base).
- **Key Goal**: Demonstrate that "Net Trade Activity" is effectively zero (trades are just swaps of value) and reconcile the closing balance.

## Key Features
1.  **Bank-Style Statement**: A clean, chronological list of transactions (Deposits, Withdrawals, Trades) with a running balance.
2.  **Statement Summary**: A one-page summary proving the reconciliation (Opening + In - Out +/- Trades = Closing).
3.  **PDF Export**: Robust "Print to PDF" functionality for both the Statement and Summary.
4.  **Persistent Cost Basis**: Uses "Weighted Average Cost" to value withdrawals, ensuring no phantom PnL is generated by market movements between Deposit and Withdrawal.

## Supported workflows
1.  **Full History Report (Recommended)**: Run from Account Start (e.g. 2020) to Present.
    -   *Logic*: Builds the perfect Cost Basis from the very first deposit.
    -   *Result*: Most accurate Net Trade Activity (~0.00).
2.  **Partial Period Report**: Run for a specific tax year (e.g. Dec 2024 - Apr 2025).
    -   *Logic*: Uses "Daily Rate" for Opening Balance valuation.
    -   *Result*: May show small reconciliation differences due to lack of history (missing cost basis), but perfectly acceptable for period reporting.

## Known Limitations
-   **Historical XRP (2020-2021)**: Early XRP data may cause a variance (~£9k) in the Full Report due to missing/volatile historical rates. This is accepted and ignored. Recent data (USDT era) is perfect.

## Versioning Policy
-   **Strict 0.001** increments (v4.000, v4.001, v4.002).
-   No deviations.
